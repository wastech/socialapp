(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["singlepost"],{"64d9":function(t,e,c){"use strict";var n=c("3f4a");e["a"]={me:function(){return Object(n["a"])().get("me")},postpic:function(t){return Object(n["a"])().put("updatepic",t)},createPost:function(t){return Object(n["a"])().post("createpost",t)},addcomment:function(t){return Object(n["a"])().put("comment",t)},mypost:function(){return Object(n["a"])().get("mypost")},showpost:function(t){return Object(n["a"])().get("post/".concat(t))},like:function(t,e){return Object(n["a"])().put("".concat(t,"/like"),{userId:e})}}},"848c":function(t,e,c){},a38e:function(t,e,c){"use strict";c("848c")},b0c0:function(t,e,c){var n=c("83ab"),s=c("9bf2").f,a=Function.prototype,i=a.toString,o=/^\s*function ([^ (]*)/,r="name";n&&!(r in a)&&s(a,r,{configurable:!0,get:function(){try{return i.call(this).match(o)[1]}catch(t){return""}}})},b7fb:function(t,e,c){"use strict";c.r(e);c("b0c0");var n=c("7a23"),s=Object(n["K"])("data-v-5df2f31d");Object(n["v"])("data-v-5df2f31d");var a={class:"container mt-2"},i={class:"card mb-3"},o={class:"row g-0"},r={class:"col-md-12 col-xl-4 col-lg-6 col-sm-7 col-xs-12"},l={class:"col-md-12 col-xl-8 col-lg-6 col-sm-12 col-xs-12"},u={class:"card-body"},m={key:0,class:"d-flex position-relative"},b={class:"mt-0"},d={class:"icons"},p={class:"badge "},j={key:1,class:"fas fa-comment"},O={class:"badge "},f=Object(n["i"])("i",{class:"fab fa-telegram-plane"},null,-1),v={key:0,class:"mt-4"},g={class:"scrollable"},h={class:""},x={class:""},k={class:"mt-0 comment__name"},w={class:"comment__text"},y=Object(n["i"])("small",{class:"card-footer text-muted"}," 1 minute ago ",-1),_={class:"comment-box"},C={class:"row mt-5"},R={class:"col-8"},B={class:"form-floating"},P=Object(n["i"])("label",{for:"floatingTextarea2"},"Comments",-1),$={class:"col-4"};Object(n["t"])();var I=s((function(t,e,c,s,I,S){return Object(n["s"])(),Object(n["e"])("div",a,[Object(n["i"])("div",i,[Object(n["i"])("div",o,[Object(n["i"])("div",r,[Object(n["i"])("img",{src:I.item.photo,alt:"...",class:"img"},null,8,["src"])]),Object(n["i"])("div",l,[Object(n["i"])("div",u,[I.item.postedBy?(Object(n["s"])(),Object(n["e"])("div",m,[Object(n["i"])("img",{src:I.item.postedBy.pic,class:"flex-shrink-0 me-3",alt:"..."},null,8,["src"]),Object(n["i"])("div",null,[Object(n["i"])("h2",b,Object(n["C"])(I.item.postedBy.name),1)])])):Object(n["f"])("",!0),Object(n["i"])("p",null,Object(n["C"])(I.item.body),1),Object(n["i"])("div",d,[I.item.likes?(Object(n["s"])(),Object(n["e"])("i",{key:0,class:["fas fa-heart",{liked:I.item.likes}],onClick:e[1]||(e[1]=function(t){return S.like()})},[Object(n["i"])("span",p,Object(n["C"])(I.item.likes.length),1)],2)):Object(n["f"])("",!0),I.item.comments?(Object(n["s"])(),Object(n["e"])("i",j,[Object(n["i"])("span",O,Object(n["C"])(I.item.comments.length),1)])):Object(n["f"])("",!0),f]),Object(n["i"])("section",null,[I.comments.length?Object(n["f"])("",!0):(Object(n["s"])(),Object(n["e"])("h4",v," Not Commented Yet ")),Object(n["i"])("div",g,[(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(I.comments,(function(t){return Object(n["s"])(),Object(n["e"])("div",{class:" bg-light d-flex position-relative",key:t.id},[Object(n["i"])("div",h,[Object(n["i"])("img",{src:t.postedBy.pic,class:"commentuser flex-shrink-0 me-3",alt:"..."},null,8,["src"])]),Object(n["i"])("div",x,[Object(n["i"])("h2",k,Object(n["C"])(t.postedBy.name),1),Object(n["i"])("div",null,[Object(n["i"])("p",w,Object(n["C"])(t.text),1)]),y])])})),128))]),Object(n["i"])("div",_,[Object(n["i"])("div",C,[Object(n["i"])("div",R,[Object(n["i"])("div",B,[Object(n["I"])(Object(n["i"])("textarea",{class:"form-control",placeholder:"Leave a comment here",id:"floatingTextarea2","onUpdate:modelValue":e[2]||(e[2]=function(t){return I.text=t}),rows:"2"},null,512),[[n["E"],I.text]]),P])]),Object(n["i"])("div",$,[Object(n["i"])("button",{type:"button",class:"btn btn-success",onClick:e[3]||(e[3]=function(t){return S.onSubmit()})}," Post ")])])])])])])])])])})),S=c("1da1"),J=(c("96cf"),c("64d9")),T={data:function(){return{_id:this.$route.params.id,item:{},text:"",comments:[],liked:Boolean}},methods:{getPost:function(){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J["a"].showpost(t._id).then((function(e){t.item=e.data.post,t.comments=e.data.post.comments}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},like:function(){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J["a"].like(t._id,t.$store.state.user._id).then((function(e){console.log("this is response",e),t.$toast.success(e.data.message,{position:"top"}),t.getPost(),t.liked=!0}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),t.$toast.error(e.t0.response.data.message,{position:"top"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},onSubmit:function(){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c={id:t.item._id,text:t.text},e.prev=1,e.next=4,J["a"].addcomment(c).then((function(e){console.log("this is response",e),t.$toast.success(e.data.message,{position:"top"}),t.getPost()}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](1),t.$toast.error(e.t0.response.data.error,{position:"top"}),console.log(e.t0);case 10:t.text="";case 11:case"end":return e.stop()}}),e,null,[[1,6]])})))()}},mounted:function(){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getPost();case 1:case"end":return e.stop()}}),e)})))()}};c("a38e");T.render=I,T.__scopeId="data-v-5df2f31d";e["default"]=T}}]);