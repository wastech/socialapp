(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["singlepost"],{"4b97":function(t,e,c){},"4f6f":function(t,e,c){"use strict";c("4b97")},"64d9":function(t,e,c){"use strict";var s=c("3f4a");e["a"]={me:function(){return Object(s["a"])().get("me")},postpic:function(t){return Object(s["a"])().put("updatepic",t)},createPost:function(t){return Object(s["a"])().post("createpost",t)},addcomment:function(t){return Object(s["a"])().put("comment",t)},mypost:function(){return Object(s["a"])().get("mypost")},showpost:function(t){return Object(s["a"])().get("post/".concat(t))},like:function(t,e){return Object(s["a"])().put("".concat(t,"/like"),{userId:e})}}},b7fb:function(t,e,c){"use strict";c.r(e);c("b0c0");var s=c("7a23"),n=Object(s["K"])("data-v-490a0321");Object(s["v"])("data-v-490a0321");var a={class:"container mt-2"},i={class:"card1 mb-3"},o={class:"row g-0"},r={class:"col-md-12 col-xl-4 col-lg-6 col-sm-7 col-xs-12"},l={class:"col-md-12 col-xl-8 col-lg-6 col-sm-12 col-xs-12"},u={class:"card-body"},m={key:0,class:"d-flex position-relative"},b={class:"mt-0"},d={class:"icons"},j={class:"badge "},O={key:1,class:"fas fa-comment"},p={class:"badge "},f=Object(s["i"])("i",{class:"fab fa-telegram-plane"},null,-1),v={key:0,class:"mt-4"},g={class:"scrollable"},h={class:""},x={class:""},k={class:"mt-0 comment__name"},w={class:"comment__text"},y=Object(s["i"])("small",{class:"card-footer text-muted"}," 1 minute ago ",-1),_={class:"comment-box"},C={class:"row mt-5"},R={class:"col-8"},B={class:"form-floating"},P=Object(s["i"])("label",{for:"floatingTextarea2"},"Comments",-1),$={class:"col-4"};Object(s["t"])();var I=n((function(t,e,c,n,I,J){return Object(s["s"])(),Object(s["e"])("div",a,[Object(s["i"])("div",i,[Object(s["i"])("div",o,[Object(s["i"])("div",r,[Object(s["i"])("img",{src:I.item.photo,alt:"...",class:"img"},null,8,["src"])]),Object(s["i"])("div",l,[Object(s["i"])("div",u,[I.item.postedBy?(Object(s["s"])(),Object(s["e"])("div",m,[Object(s["i"])("img",{src:I.item.postedBy.pic,class:"flex-shrink-0 me-3",alt:"..."},null,8,["src"]),Object(s["i"])("div",null,[Object(s["i"])("h2",b,Object(s["C"])(I.item.postedBy.name),1)])])):Object(s["f"])("",!0),Object(s["i"])("p",null,Object(s["C"])(I.item.body),1),Object(s["i"])("div",d,[I.item.likes?(Object(s["s"])(),Object(s["e"])("i",{key:0,class:["fas fa-heart",{liked:I.item.likes}],onClick:e[1]||(e[1]=function(t){return J.like()})},[Object(s["i"])("span",j,Object(s["C"])(I.item.likes.length),1)],2)):Object(s["f"])("",!0),I.item.comments?(Object(s["s"])(),Object(s["e"])("i",O,[Object(s["i"])("span",p,Object(s["C"])(I.item.comments.length),1)])):Object(s["f"])("",!0),f]),Object(s["i"])("section",null,[I.comments.length?Object(s["f"])("",!0):(Object(s["s"])(),Object(s["e"])("h4",v," Not Commented Yet ")),Object(s["i"])("div",g,[(Object(s["s"])(!0),Object(s["e"])(s["a"],null,Object(s["z"])(I.comments,(function(t){return Object(s["s"])(),Object(s["e"])("div",{class:" bg-light d-flex position-relative",key:t.id},[Object(s["i"])("div",h,[Object(s["i"])("img",{src:t.postedBy.pic,class:"commentuser flex-shrink-0 me-3",alt:"..."},null,8,["src"])]),Object(s["i"])("div",x,[Object(s["i"])("h2",k,Object(s["C"])(t.postedBy.name),1),Object(s["i"])("div",null,[Object(s["i"])("p",w,Object(s["C"])(t.text),1)]),y])])})),128))]),Object(s["i"])("div",_,[Object(s["i"])("div",C,[Object(s["i"])("div",R,[Object(s["i"])("div",B,[Object(s["I"])(Object(s["i"])("textarea",{class:"form-control",placeholder:"Leave a comment here",id:"floatingTextarea2","onUpdate:modelValue":e[2]||(e[2]=function(t){return I.text=t}),rows:"2"},null,512),[[s["E"],I.text]]),P])]),Object(s["i"])("div",$,[Object(s["i"])("button",{type:"button",class:"btn btn-success",onClick:e[3]||(e[3]=function(t){return J.onSubmit()})}," Post ")])])])])])])])])])})),J=c("1da1"),S=(c("96cf"),c("64d9")),T={data:function(){return{_id:this.$route.params.id,item:{},text:"",comments:[],liked:Boolean}},methods:{getPost:function(){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S["a"].showpost(t._id).then((function(e){t.item=e.data.post,t.comments=e.data.post.comments}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},like:function(){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S["a"].like(t._id,t.$store.state.user._id).then((function(e){t.$toast.success(e.data.message,{position:"top"}),t.getPost(),t.liked=!0}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),t.$toast.error(e.t0.response.data.message,{position:"top"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},onSubmit:function(){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c={id:t.item._id,text:t.text},e.prev=1,e.next=4,S["a"].addcomment(c).then((function(e){t.$toast.success(e.data.message,{position:"top"}),t.getPost()}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](1),t.$toast.error(e.t0.response.data.error,{position:"top"}),console.log(e.t0);case 10:t.text="";case 11:case"end":return e.stop()}}),e,null,[[1,6]])})))()}},mounted:function(){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getPost();case 1:case"end":return e.stop()}}),e)})))()}};c("4f6f");T.render=I,T.__scopeId="data-v-490a0321";e["default"]=T}}]);