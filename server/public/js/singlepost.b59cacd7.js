(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["singlepost"],{"64a2":function(e,t,c){"use strict";c("ee48")},"64d9":function(e,t,c){"use strict";var s=c("3f4a");t["a"]={me:function(){return Object(s["a"])().get("me")},postpic:function(e){return Object(s["a"])().put("updatepic",e)},createPost:function(e){return Object(s["a"])().post("createpost",e)},addcomment:function(e){return Object(s["a"])().put("comment",e)},mypost:function(){return Object(s["a"])().get("mypost")},showpost:function(e){return Object(s["a"])().get("post/".concat(e))},like:function(e,t){return Object(s["a"])().put("".concat(e,"/like"),{userId:t})}}},b7fb:function(e,t,c){"use strict";c.r(t);c("b0c0");var s=c("7a23"),n=Object(s["L"])("data-v-c358e75c");Object(s["v"])("data-v-c358e75c");var a={class:"container mt-2"},i={class:"card1 mb-3"},o={class:"row g-0"},r={class:"col-md-12 col-xl-4 col-lg-6 col-sm-7 col-xs-12"},l={alt:"...",class:"img"},u={class:"col-md-12 col-xl-8 col-lg-6 col-sm-12 col-xs-12"},m={class:"card-body"},b={key:0,class:"d-flex position-relative"},d={class:"flex-shrink-0 me-3",alt:"..."},j={class:"mt-0"},O={class:"name"},p={class:"icons"},f={class:"badge "},v={key:1,class:"fas fa-comment"},g={class:"badge "},h=Object(s["i"])("i",{class:"fab fa-telegram-plane"},null,-1),x={key:0,class:"mt-4"},k={class:"scrollable"},w={class:""},y={class:""},_={class:"mt-0 comment__name"},B={class:"comment__text"},D=Object(s["i"])("small",{class:"card-footer text-muted"}," 1 minute ago ",-1),R={class:"comment-box"},P={class:"row mt-1"},$={class:"col-8"},J={class:"form-floating"},C=Object(s["i"])("label",{for:"floatingTextarea2"},"Comments",-1),z={class:"col-4"};Object(s["t"])();var I=n((function(e,t,c,n,I,L){var S=Object(s["B"])("lazy");return Object(s["s"])(),Object(s["e"])("div",a,[Object(s["i"])("div",i,[Object(s["i"])("div",o,[Object(s["i"])("div",r,[Object(s["J"])(Object(s["i"])("img",l,null,512),[[S,I.item.photo]])]),Object(s["i"])("div",u,[Object(s["i"])("div",m,[I.item.postedBy?(Object(s["s"])(),Object(s["e"])("div",b,[Object(s["J"])(Object(s["i"])("img",d,null,512),[[S,I.item.postedBy.pic]]),Object(s["i"])("div",null,[Object(s["i"])("h2",j,Object(s["D"])(I.item.postedBy.name),1),Object(s["i"])("small",O,Object(s["D"])(I.item.postedBy.nationality)+", "+Object(s["D"])(I.item.postedBy.city),1)])])):Object(s["f"])("",!0),Object(s["i"])("p",null,Object(s["D"])(I.item.body),1),Object(s["i"])("div",p,[I.item.likes?(Object(s["s"])(),Object(s["e"])("i",{key:0,class:["fas fa-heart",{liked:I.item.likes}],onClick:t[1]||(t[1]=function(e){return L.like()})},[Object(s["i"])("span",f,Object(s["D"])(I.item.likes.length),1)],2)):Object(s["f"])("",!0),I.item.comments?(Object(s["s"])(),Object(s["e"])("i",v,[Object(s["i"])("span",g,Object(s["D"])(I.item.comments.length),1)])):Object(s["f"])("",!0),h]),Object(s["i"])("section",null,[I.comments.length?Object(s["f"])("",!0):(Object(s["s"])(),Object(s["e"])("h4",x," Not Commented Yet ")),Object(s["i"])("div",k,[(Object(s["s"])(!0),Object(s["e"])(s["a"],null,Object(s["z"])(I.comments,(function(e){return Object(s["s"])(),Object(s["e"])("div",{class:" bg-light d-flex position-relative",key:e.id},[Object(s["i"])("div",w,[Object(s["i"])("img",{src:e.postedBy.pic,class:"commentuser flex-shrink-0 me-3",alt:"..."},null,8,["src"])]),Object(s["i"])("div",y,[Object(s["i"])("h2",_,Object(s["D"])(e.postedBy.name),1),Object(s["i"])("div",null,[Object(s["i"])("p",B,Object(s["D"])(e.text),1)]),D])])})),128))]),Object(s["i"])("div",R,[Object(s["i"])("div",P,[Object(s["i"])("div",$,[Object(s["i"])("div",J,[Object(s["J"])(Object(s["i"])("textarea",{class:"form-control",placeholder:"Leave a comment here",id:"floatingTextarea2","onUpdate:modelValue":t[2]||(t[2]=function(e){return I.text=e}),rows:"2"},null,512),[[s["F"],I.text]]),C])]),Object(s["i"])("div",z,[Object(s["i"])("button",{type:"button",class:"btn btn-success",onClick:t[3]||(t[3]=function(e){return L.onSubmit()})}," Post ")])])])])])])])])])})),L=c("1da1"),S=(c("96cf"),c("64d9")),T={data:function(){return{_id:this.$route.params.id,item:{},text:"",comments:[],liked:Boolean}},methods:{getPost:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S["a"].showpost(e._id).then((function(t){e.item=t.data.post,e.comments=t.data.post.comments}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},like:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S["a"].like(e._id,e.$store.state.user._id).then((function(t){e.$toast.success(t.data.message,{position:"top"}),e.getPost(),e.liked=!0}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),e.$toast.error(t.t0.response.data.message,{position:"top"});case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},onSubmit:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c={id:e.item._id,text:e.text},t.prev=1,t.next=4,S["a"].addcomment(c).then((function(t){e.$toast.success(t.data.message,{position:"top"}),e.getPost()}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](1),e.$toast.error(t.t0.response.data.error,{position:"top"}),console.log(t.t0);case 10:e.text="";case 11:case"end":return t.stop()}}),t,null,[[1,6]])})))()}},mounted:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getPost();case 1:case"end":return t.stop()}}),t)})))()}};c("64a2");T.render=I,T.__scopeId="data-v-c358e75c";t["default"]=T},ee48:function(e,t,c){}}]);